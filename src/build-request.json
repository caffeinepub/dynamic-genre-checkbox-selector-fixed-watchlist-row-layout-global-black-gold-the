{
  "kind": "build_request",
  "title": "Adjust title-cycle arrow overlap and add collapsible app header",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Move the green \"cycle title\" arrow control up by 25px and allow it to visually overlap the rating area, without pushing or dynamically repositioning the rating value or rating controls away from the arrow.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "move the green arrow that cycles through the titles up 25 pixels, and let it overlap with the ratings, do not dynamically move the rating away from the green arrow."
        ]
      },
      "acceptanceCriteria": [
        "In the manga list row UI (MangaCard), the green cycle-title arrow is vertically shifted upward by exactly 25px relative to its current position.",
        "The arrow is allowed to overlap on top of the rating area (star button and/or numeric rating) via layering (e.g., z-index), rather than spacing/padding changes.",
        "The rating area does not change its layout to avoid the arrow (no conditional margins/padding/gaps introduced to move rating away).",
        "Clicking the arrow still cycles titles reliably, and the rating star/button remains usable (no unintended click-blocking beyond the intentional overlap)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Ensure the same 25px upward shift and overlap behavior for the green title-cycle arrow in the cover hover popup title area, without reflowing surrounding text/content to avoid it.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "move the green arrow that cycles through the titles up 25 pixels, and let it overlap with the ratings, do not dynamically move the rating away from the green arrow."
        ]
      },
      "acceptanceCriteria": [
        "In CoverHoverPopup, the green ChevronRight title-cycle button is shifted upward by 25px from its current placement.",
        "The button may overlap adjacent content if needed (layered), and the title text container does not dynamically resize/reposition to avoid it.",
        "Cycling titles in the popup still works and does not close the popup unintentionally."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Make the top header (containing the \"MangaList\" text/logo area and the login/logout button) collapsible, with a clear toggle control that can collapse and expand the header while keeping the page content usable.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "make the header that has the 'mangalist' text and login/logout button collapsable."
        ]
      },
      "acceptanceCriteria": [
        "A visible, clickable header toggle control exists in the header area to collapse/expand it.",
        "When collapsed, the header reduces its vertical footprint and hides (or minimizes) the MangaList branding area and the login/logout button; when expanded, they appear as they do today.",
        "The header remains sticky at the top in both states.",
        "The toggle control has accessible text (e.g., aria-label) in English indicating the action (Collapse header / Expand header)."
      ]
    }
  ],
  "constraints": [
    "Do not edit any files under frontend/src/components/ui (read-only UI components).",
    "Do not change authentication implementation (Internet Identity) or backend APIs as part of making the header collapsible.",
    "Keep all user-facing text in English."
  ],
  "nonGoals": [
    "Redesigning the entire MangaCard layout beyond the specific arrow positioning/overlap request.",
    "Adding new backend fields or persistence/migrations for header collapsed state (unless already handled purely on the frontend)."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}