{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 23,
  "summary": "Internet Computer dapp template initialized: Motoko backend with authorization + blob storage, and a React (Vite) frontend implementing Internet Identity login, user profile setup, and a basic Manga library UI with cover image upload and pagination.",
  "existing_features": [
    {
      "id": "IF-1",
      "title": "Internet Identity authentication (login/logout)",
      "synonyms": [
        "II auth",
        "Internet Identity login"
      ],
      "description": "Frontend integrates Internet Identity for user sign-in/sign-out and actor initialization for authenticated calls.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-2",
      "title": "User profile setup and current-user profile retrieval",
      "synonyms": [
        "profile setup",
        "user profile"
      ],
      "description": "UI dialog for initial profile setup and hooks/utilities to fetch/use the current user's profile.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-3",
      "title": "Manga library CRUD UI (create + list)",
      "synonyms": [
        "manga list",
        "add manga"
      ],
      "description": "Frontend pages/components to add manga entries and display a list of manga cards.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-4",
      "title": "Cover image upload + storage integration",
      "synonyms": [
        "cover images",
        "blob upload"
      ],
      "description": "Cover image field and storage client wiring to upload/store cover images via blob-storage canister/module.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-5",
      "title": "Pagination controls for manga listing",
      "synonyms": [
        "paging"
      ],
      "description": "Pagination controls and hooks for fetching manga pages and navigating results.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-6",
      "title": "Motoko backend authorization module and access control",
      "synonyms": [
        "authorization mixin",
        "access control"
      ],
      "description": "Backend includes reusable authorization/access-control modules used to gate operations.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-7",
      "title": "Build/deploy template for IC (backend + frontend)",
      "synonyms": [
        "build template",
        "deploy scripts"
      ],
      "description": "Repository includes build-template assets (Dockerfile, scripts, canister.yaml, configs) for building and deploying the full-stack app.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "feature-ensure-the-add-manga-dialog-s-form-content-is-scrollable-within-the-dialog-viewport-so-that-the-bottom-action-buttons-cancel-and-add-manga-are-always-reachable-on-all-common-screen-sizes-including-short-laptop-screens-and-mobile-without-the-dialog-content-overflowing-off-screen",
      "title": "Ensure the “Add Manga” dialog’s form content is scrollable within the dialog viewport so that the bottom action buttons (“Cancel” and “Add Manga”) are always reachable on all common screen sizes (including short laptop screens and mobile), without the dialog content overflowing off-screen.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-minimal-regression-check-for-the-add-manga-dialog-layout-to-prevent-future-changes-from-reintroducing-hidden-overflowing-bottom-actions-verify-dialog-max-height-constraint-and-internal-scrolling-behavior",
      "title": "Add a minimal regression check for the Add Manga dialog layout to prevent future changes from reintroducing hidden/overflowing bottom actions (verify dialog max height constraint and internal scrolling behavior).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add dynamic genre checkbox list populated from existing genres (in addition to manual genre entry) to avoid retyping genres.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Watchlist row layout polish: fixed height 78px; fixed width 900px and non-compressible; cover on left max 35px wide; title next to cover max 250px wide; hide alternate titles.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Global UI theming: black backgrounds with gold outline; watchlist rows with glowing gold outline on black background; apply to dropdowns/menus/popups going forward.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Make the Add Manga popup/dialog scrollable so the bottom actions (Add Manga/Cancel) are always reachable/visible.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "architectural_notes": [
    "Backend is implemented in Motoko with modular authorization (MixinAuthorization/access-control) and blob storage (Mixin/Storage).",
    "Frontend is a React + Vite + Tailwind app using shadcn/ui component library.",
    "Frontend uses generated canister bindings (backend.did) and an actor hook pattern (useActor/useInternetIdentity) for authenticated calls.",
    "Assets include generated placeholders (app logo and cover placeholder) produced by build-template image scripts.",
    "Authorization and blob-storage Motoko modules updated/aligned to component versions v4.0.0 (internal refactors/updates across backend main + mixins).",
    "Build-template refreshed (Dockerfile/scripts/workspace configs) and frontend template dependencies/configs updated (React+Vite+Tailwind+shadcn/ui template sync).",
    "Frontend actor initialization now includes retry logic via a dedicated hook (useActorWithRetry) to improve resilience of authenticated calls."
  ],
  "known_issues": [
    "Intermittent frontend backend-connection failures (e.g., 'Failed to connect to backend. Please check your connection and try again.').",
    "'Actor not available' warning indicates actor initialization/race condition before authenticated calls.",
    "Add Manga UI/button becomes floaty/unclickable due to overlapping layers/z-index or layout issues.",
    "Add Manga popup/dialog content overflows and hides bottom action buttons without scrolling."
  ],
  "isFixRequest": true,
  "generatedImages": [
    {
      "filename": "frontend/public/assets/generated/app-logo.dim_512x512.png",
      "description": "Generated app logo placeholder image.",
      "targetWidth": 512,
      "targetHeight": 512
    },
    {
      "filename": "frontend/public/assets/generated/cover-placeholder.dim_600x900.png",
      "description": "Generated cover placeholder image.",
      "targetWidth": 600,
      "targetHeight": 900
    }
  ],
  "projectName": "Fix Add Manga dialog scrolling so action buttons are always reachable",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}