{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 35,
  "summary": "Internet Computer dapp template initialized: Motoko backend with authorization + blob storage, and a React (Vite) frontend implementing Internet Identity login, user profile setup, and a basic Manga library UI with cover image upload and pagination.",
  "existing_features": [
    {
      "id": "IF-1",
      "title": "Internet Identity authentication (login/logout)",
      "synonyms": [
        "II auth",
        "Internet Identity login"
      ],
      "description": "Frontend integrates Internet Identity for user sign-in/sign-out and actor initialization for authenticated calls.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-2",
      "title": "User profile setup and current-user profile retrieval",
      "synonyms": [
        "profile setup",
        "user profile"
      ],
      "description": "UI dialog for initial profile setup and hooks/utilities to fetch/use the current user's profile.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-3",
      "title": "Manga library CRUD UI (create + list)",
      "synonyms": [
        "manga list",
        "add manga"
      ],
      "description": "Frontend pages/components to add manga entries and display a list of manga cards.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-4",
      "title": "Cover image upload + storage integration",
      "synonyms": [
        "cover images",
        "blob upload"
      ],
      "description": "Cover image field and storage client wiring to upload/store cover images via blob-storage canister/module.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-5",
      "title": "Pagination controls for manga listing",
      "synonyms": [
        "paging"
      ],
      "description": "Pagination controls and hooks for fetching manga pages and navigating results.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-6",
      "title": "Motoko backend authorization module and access control",
      "synonyms": [
        "authorization mixin",
        "access control"
      ],
      "description": "Backend includes reusable authorization/access-control modules used to gate operations.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-7",
      "title": "Build/deploy template for IC (backend + frontend)",
      "synonyms": [
        "build template",
        "deploy scripts"
      ],
      "description": "Repository includes build-template assets (Dockerfile, scripts, canister.yaml, configs) for building and deploying the full-stack app.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "feature-update-the-add-manga-dialog-layout-so-the-dialog-body-the-middle-content-area-containing-the-form-fields-has-a-maximum-height-of-600px-and-scrolls-vertically-while-the-dialog-header-title-description-alerts-and-footer-cancel-add-manga-buttons-remain-fixed-and-always-visible",
      "title": "Update the Add Manga dialog layout so the dialog body (the middle content area containing the form fields) has a maximum height of 600px and scrolls vertically, while the dialog header (title/description/alerts) and footer (Cancel/Add Manga buttons) remain fixed and always visible.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-frontend-stability-pass-to-reduce-recurring-backend-connection-actor-readiness-errors-by-improving-readiness-gating-retries-and-recovery-actions-across-the-existing-actor-readiness-hooks-and-the-manga-list-add-manga-flows",
      "title": "Add a new frontend stability pass to reduce recurring backend connection/actor readiness errors by improving readiness gating, retries, and recovery actions across the existing actor/readiness hooks and the manga list + add-manga flows.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Make 'Add Manga' popup body scrollable: max-height 600px with overflow-y auto; keep header/footer fixed while middle content scrolls.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Address recurring backend connection/actor readiness errors by adding comprehensive frontend robustness fixes (gate calls on actor readiness, retries/backoff, better error handling) similar to prior stability pass.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "architectural_notes": [
    "Backend is implemented in Motoko with modular authorization (MixinAuthorization/access-control) and blob storage (Mixin/Storage).",
    "Frontend is a React + Vite + Tailwind app using shadcn/ui component library.",
    "Frontend uses generated canister bindings (backend.did) and an actor hook pattern (useActor/useInternetIdentity) for authenticated calls.",
    "Assets include generated placeholders (app logo and cover placeholder) produced by build-template image scripts.",
    "Authorization and blob-storage Motoko modules updated/aligned to component versions v4.0.0 (internal refactors/updates across backend main + mixins).",
    "Build-template refreshed (Dockerfile/scripts/workspace configs) and frontend template dependencies/configs updated (React+Vite+Tailwind+shadcn/ui template sync).",
    "Frontend actor initialization now includes retry logic via a dedicated hook (useActorWithRetry) to improve resilience of authenticated calls.",
    "Build-template React frontend was synced/refreshed to the latest template baseline, including expanded shadcn/ui component set and updated tooling/config (Vite/Tailwind/TS).",
    "Build-template now includes custom ESLint rules to enforce Internet Identity provider usage and prevent BigInt usage in query keys.",
    "Frontend includes backend readiness + error classification utilities (useBackendReadiness, backendErrorClassification, retryBackoff) to improve resilience and user experience when the backend/actor is not yet ready."
  ],
  "known_issues": [
    "Intermittent backend connection/actor readiness errors still occur (e.g., 'Failed to connect to backend', 'actor not available')."
  ],
  "isFixRequest": true,
  "generatedImages": [
    {
      "filename": "frontend/public/assets/generated/app-logo.dim_512x512.png",
      "description": "Generated app logo placeholder image.",
      "targetWidth": 512,
      "targetHeight": 512
    },
    {
      "filename": "frontend/public/assets/generated/cover-placeholder.dim_600x900.png",
      "description": "Generated cover placeholder image.",
      "targetWidth": 600,
      "targetHeight": 900
    }
  ],
  "projectName": "Constrain Add Manga dialog body to 600px with fixed header/footer, and harden backend connection reliability",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}